<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>√în t·∫≠p to√°n l·ªõp 5 - ƒê·ªÅ 1</title>
    <!-- Google Fonts for a friendlier look -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;700&display=swap" rel="stylesheet">

    <style>
        /* --- C√†i ƒë·∫∑t chung --- */
        :root {
            --primary-color: #0077b6;
            --secondary-color: #ef476f;
            --correct-bg: #d4edda;
            --correct-text: #155724;
            --incorrect-bg: #f8d7da;
            --incorrect-text: #721c24;
            --neutral-bg: #f0f8ff;
            --white-bg: #ffffff;
        }

        body {
            font-family: 'Nunito', sans-serif;
            background-color: var(--neutral-bg);
            color: #333;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
            display: flex;
            justify-content: center;
        }

        .container {
            max-width: 850px;
            width: 100%;
            background: var(--white-bg);
            padding: 20px 40px;
            border-radius: 20px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
            border: 2px solid #bde0fe;
        }

        h1, h2, h3 {
            text-align: center;
        }
        
        h1 {
            color: var(--primary-color);
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }

        h2 {
            color: var(--secondary-color);
            background-color: #fff0f3;
            padding: 5px 10px;
            border-radius: 10px;
            display: inline-block;
            margin: 0 auto 20px;
            border: 1px dashed var(--secondary-color);
        }
        
        h3 {
             color: #0096c7;
             border-bottom: 2px solid #ade8f4;
             padding-bottom: 10px;
             margin-top: 30px;
        }

        /* --- Ph·∫ßn Tr·∫Øc Nghi·ªám --- */
        .question-container {
            margin-bottom: 25px;
            padding: 20px;
            border: 1px solid #ddd;
            border-radius: 15px;
            background-color: #fafcff;
            transition: all 0.3s ease;
        }
        
        .question-container:hover {
            transform: translateY(-3px);
            box-shadow: 0 4px 15px rgba(0,0,0,0.08);
        }

        .question-container p:first-child {
            margin: 0 0 15px 0;
            font-size: 1.1em;
            font-weight: bold;
            color: #333;
        }

        .option-label {
            display: block;
            position: relative;
            padding: 10px 15px 10px 45px;
            margin-bottom: 10px;
            cursor: pointer;
            font-size: 1em;
            border-radius: 10px;
            background-color: #f8f9fa;
            border: 1px solid #e9ecef;
            transition: background-color 0.2s;
        }
        
        .option-label:hover {
            background-color: #e9ecef;
        }

        .option-label input {
            position: absolute;
            opacity: 0;
            cursor: pointer;
        }
        
        .checkmark {
            position: absolute;
            top: 50%;
            left: 15px;
            transform: translateY(-50%);
            height: 22px;
            width: 22px;
            background-color: #eee;
            border: 1px solid #ccc;
            border-radius: 50%;
        }

        .option-label:hover input ~ .checkmark {
            background-color: #ccc;
        }

        .option-label input:checked ~ .checkmark {
            background-color: #2196F3;
            border: none;
        }

        .checkmark:after {
            content: "";
            position: absolute;
            display: none;
        }

        .option-label input:checked ~ .checkmark:after {
            display: block;
        }

        .option-label .checkmark:after {
            top: 7px;
            left: 7px;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: white;
        }
        
        .option-label.correct {
            background-color: var(--correct-bg);
            border-color: #c3e6cb;
            font-weight: bold;
        }
        .option-label.incorrect {
            background-color: var(--incorrect-bg);
            border-color: #f5c6cb;
            font-weight: bold;
        }
        .option-label.correct .checkmark { background-color: #28a745; border:none; }
        .option-label.incorrect .checkmark { background-color: #dc3545; border:none; }
        .option-label.show-correct-answer {
             border: 2px solid #28a745;
        }

        .single-check-container {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-top: 15px;
        }
        .check-single-btn {
            background-color: #6c757d;
            color: white;
            padding: 5px 15px;
            border: none;
            border-radius: 20px;
            cursor: pointer;
            font-size: 0.9em;
            transition: background-color 0.2s;
        }
        .check-single-btn:hover {
            background-color: #5a6268;
        }
        .single-result {
            font-size: 1.5em;
        }

        .main-actions {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px;
            margin: 30px auto 20px;
        }

        #submit-btn, #reset-btn {
            color: white;
            padding: 15px 30px;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            font-size: 1.2em;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        #submit-btn {
            background: linear-gradient(45deg, #ff9a44, #ff6b6b);
            box-shadow: 0 4px 15px rgba(255, 107, 107, 0.4);
        }

        #reset-btn {
            background: #6c757d;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }

        #submit-btn:hover, #reset-btn:hover {
            transform: scale(1.05);
        }

        #result {
            margin-top: 20px;
            padding: 20px;
            font-size: 1.3em;
            font-weight: bold;
            text-align: center;
            border-radius: 15px;
            display: none;
        }

        /* --- Ph·∫ßn T·ª± Lu·∫≠n --- */
        .self-study-section .question-container {
            background-color: #fffbe8;
            border: 1px dashed #f9d849;
            margin-top: 20px;
        }

        .self-study-section textarea {
            width: 95%;
            padding: 10px;
            margin-top: 10px;
            border: 1px solid #ccc;
            border-radius: 8px;
            font-family: 'Nunito', sans-serif;
            font-size: 1em;
        }

        .toggle-answer-btn {
            background-color: #17a2b8;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1em;
            margin-top: 10px;
            transition: background-color 0.2s;
        }

        .toggle-answer-btn:hover {
            background-color: #138496;
        }

        .answer {
            display: none;
            margin-top: 15px;
            padding: 15px;
            background-color: #e9ecef;
            border: 1px dashed #ccc;
            border-radius: 8px;
            color: #495057;
        }

        button:disabled {
            opacity: 0.6;
            cursor: not-allowed !important;
        }
    </style>
</head>
<body>

    <div class="container">
        <h1>√în t·∫≠p to√°n l·ªõp 5 üìù</h1>
        <h2>ƒê·ªÄ 1</h2>

        <!-- PH·∫¶N TR·∫ÆC NGHI·ªÜM -->
        <form id="quiz-form">
            <h3>I. TR·∫ÆC NGHI·ªÜM</h3>

            <div class="question-container" id="container-q1">
                <p>C√¢u 1. Ch·ªØ s·ªë 8 trong s·ªë th·∫≠p ph√¢n 47,083 c√≥ gi√° tr·ªã l√†:</p>
                <label class="option-label"><input type="radio" name="q1" value="A"> A. 8 ph·∫ßn m∆∞·ªùi<span class="checkmark"></span></label>
                <label class="option-label"><input type="radio" name="q1" value="B"> B. 8 ph·∫ßn trƒÉm<span class="checkmark"></span></label>
                <label class="option-label"><input type="radio" name="q1" value="C"> C. 8 ƒë∆°n v·ªã<span class="checkmark"></span></label>
                <label class="option-label"><input type="radio" name="q1" value="D"> D. 8 ph·∫ßn ngh√¨n<span class="checkmark"></span></label>
                <div class="single-check-container">
                    <button type="button" class="check-single-btn" data-question="q1">Ki·ªÉm tra</button>
                    <span class="single-result"></span>
                </div>
            </div>

            <!-- ... C√°c c√¢u h·ªèi tr·∫Øc nghi·ªám kh√°c t∆∞∆°ng t·ª± ... -->
            <div class="question-container" id="container-q2">
                <p>C√¢u 2. S·ªë th√≠ch h·ª£p ƒëi·ªÅn v√†o ch·ªó ch·∫•m c·ªßa 9m¬≥ 5dm¬≥ = ... dm¬≥ l√†:</p>
                <label class="option-label"><input type="radio" name="q2" value="A"> A. 950<span class="checkmark"></span></label>
                <label class="option-label"><input type="radio" name="q2" value="B"> B. 9005<span class="checkmark"></span></label>
                <label class="option-label"><input type="radio" name="q2" value="C"> C. 9500<span class="checkmark"></span></label>
                <label class="option-label"><input type="radio" name="q2" value="D"> D. 905<span class="checkmark"></span></label>
                <div class="single-check-container">
                    <button type="button" class="check-single-btn" data-question="q2">Ki·ªÉm tra</button>
                    <span class="single-result"></span>
                </div>
            </div>

            <div class="question-container" id="container-q3">
                <p>C√¢u 3. Ph√¢n s·ªë 1/8 ƒë∆∞·ª£c vi·∫øt d∆∞·ªõi d·∫°ng t·ªâ s·ªë ph·∫ßn trƒÉm l√†:</p>
                <label class="option-label"><input type="radio" name="q3" value="A"> A. 0,125%<span class="checkmark"></span></label>
                <label class="option-label"><input type="radio" name="q3" value="B"> B. 1,25%<span class="checkmark"></span></label>
                <label class="option-label"><input type="radio" name="q3" value="C"> C. 12,5%<span class="checkmark"></span></label>
                <label class="option-label"><input type="radio" name="q3" value="D"> D. 125%<span class="checkmark"></span></label>
                <div class="single-check-container">
                    <button type="button" class="check-single-btn" data-question="q3">Ki·ªÉm tra</button>
                    <span class="single-result"></span>
                </div>
            </div>

            <div class="question-container" id="container-q4">
                <p>C√¢u 4. S·ªë th√≠ch h·ª£p ƒëi·ªÅn v√†o ch·ªó ch·∫•m c·ªßa 12 ph√∫t = ... gi·ªù l√†:</p>
                <label class="option-label"><input type="radio" name="q4" value="A"> A. 0,1<span class="checkmark"></span></label>
                <label class="option-label"><input type="radio" name="q4" value="B"> B. 0,2<span class="checkmark"></span></label>
                <label class="option-label"><input type="radio" name="q4" value="C"> C. 0,3<span class="checkmark"></span></label>
                <label class="option-label"><input type="radio" name="q4" value="D"> D. 0,4<span class="checkmark"></span></label>
                <div class="single-check-container">
                    <button type="button" class="check-single-btn" data-question="q4">Ki·ªÉm tra</button>
                    <span class="single-result"></span>
                </div>
            </div>

            <div class="question-container" id="container-q5">
                <p>C√¢u 5. T√¨m y bi·∫øt, y : 6,7 = 13,2</p>
                <label class="option-label"><input type="radio" name="q5" value="A"> A. 76,98<span class="checkmark"></span></label>
                <label class="option-label"><input type="radio" name="q5" value="B"> B. 88,44<span class="checkmark"></span></label>
                <label class="option-label"><input type="radio" name="q5" value="C"> C. 99,22<span class="checkmark"></span></label>
                <label class="option-label"><input type="radio" name="q5" value="D"> D. 111,22<span class="checkmark"></span></label>
                <div class="single-check-container">
                    <button type="button" class="check-single-btn" data-question="q5">Ki·ªÉm tra</button>
                    <span class="single-result"></span>
                </div>
            </div>

            <div class="question-container" id="container-q6">
                <p>C√¢u 6. S·ªë th√≠ch h·ª£p ƒëi·ªÅn v√†o ch·ªó ch·∫•m c·ªßa 4,5 gi·ªù = ... gi·ªù ... ph√∫t</p>
                <label class="option-label"><input type="radio" name="q6" value="A"> A. 4 gi·ªù 5 ph√∫t<span class="checkmark"></span></label>
                <label class="option-label"><input type="radio" name="q6" value="B"> B. 4 gi·ªù 15 ph√∫t<span class="checkmark"></span></label>
                <label class="option-label"><input type="radio" name="q6" value="C"> C. 4 gi·ªù 30 ph√∫t<span class="checkmark"></span></label>
                <label class="option-label"><input type="radio" name="q6" value="D"> D. 4 gi·ªù 10 ph√∫t<span class="checkmark"></span></label>
                <div class="single-check-container">
                    <button type="button" class="check-single-btn" data-question="q6">Ki·ªÉm tra</button>
                    <span class="single-result"></span>
                </div>
            </div>

            <div class="question-container" id="container-q7">
                <p>C√¢u 7. M·ªôt h√¨nh tam gi√°c vu√¥ng c√≥ ƒë·ªô d√†i hai c·∫°nh g√≥c vu√¥ng l√† 12cm v√† 10cm. Di·ªán t√≠ch tam gi√°c ƒë√≥ l√†:</p>
                <label class="option-label"><input type="radio" name="q7" value="A"> A. 120 cm¬≤<span class="checkmark"></span></label>
                <label class="option-label"><input type="radio" name="q7" value="B"> B. 100 cm¬≤<span class="checkmark"></span></label>
                <label class="option-label"><input type="radio" name="q7" value="C"> C. 50 cm¬≤<span class="checkmark"></span></label>
                <label class="option-label"><input type="radio" name="q7" value="D"> D. 60 cm¬≤<span class="checkmark"></span></label>
                <div class="single-check-container">
                    <button type="button" class="check-single-btn" data-question="q7">Ki·ªÉm tra</button>
                    <span class="single-result"></span>
                </div>
            </div>

            <div class="question-container" id="container-q8">
                <p>C√¢u 8. H√¨nh l·∫≠p ph∆∞∆°ng c√≥ c·∫°nh 5cm. Th·ªÉ t√≠ch h√¨nh l·∫≠p ph∆∞∆°ng ƒë√≥ l√†:</p>
                <label class="option-label"><input type="radio" name="q8" value="A"> A. 512cm¬≥<span class="checkmark"></span></label>
                <label class="option-label"><input type="radio" name="q8" value="B"> B. 125cm¬≥<span class="checkmark"></span></label>
                <label class="option-label"><input type="radio" name="q8" value="C"> C. 384cm¬≥<span class="checkmark"></span></label>
                <label class="option-label"><input type="radio" name="q8" value="D"> D. 521cm¬≥<span class="checkmark"></span></label>
                <div class="single-check-container">
                    <button type="button" class="check-single-btn" data-question="q8">Ki·ªÉm tra</button>
                    <span class="single-result"></span>
                </div>
            </div>

            <div class="question-container" id="container-q9">
                <p>C√¢u 9. S·ªë th√≠ch h·ª£p ƒëi·ªÅn v√†o ch·ªó ch·∫•m c·ªßa 12km/gi·ªù = ... m/ph√∫t l√†:</p>
                <label class="option-label"><input type="radio" name="q9" value="A"> A. 120<span class="checkmark"></span></label>
                <label class="option-label"><input type="radio" name="q9" value="B"> B. 20<span class="checkmark"></span></label>
                <label class="option-label"><input type="radio" name="q9" value="C"> C. 200<span class="checkmark"></span></label>
                <label class="option-label"><input type="radio" name="q9" value="D"> D. 2000<span class="checkmark"></span></label>
                <div class="single-check-container">
                    <button type="button" class="check-single-btn" data-question="q9">Ki·ªÉm tra</button>
                    <span class="single-result"></span>
                </div>
            </div>

            <div class="question-container" id="container-q10">
                <p>C√¢u 10. L√∫c 8 gi·ªù 25 ph√∫t m·ªôt xe m√°y ƒëi t·ª´ A v·ªõi v·∫≠n t·ªëc 30 km/gi·ªù. ƒê·∫øn 8 gi·ªù 55 ph√∫t, m·ªôt √¥t√¥ c≈©ng ƒëi t·ª´ A v·ªõi v·∫≠n t·ªëc 50 km/gi·ªù c√πng chi·ªÅu. H·ªèi √¥ t√¥ ƒëu·ªïi k·ªãp xe m√°y l√∫c m·∫•y gi·ªù?</p>
                <label class="option-label"><input type="radio" name="q10" value="A"> A. 11 gi·ªù 5 ph√∫t<span class="checkmark"></span></label>
                <label class="option-label"><input type="radio" name="q10" value="B"> B. 1 gi·ªù 20 ph√∫t<span class="checkmark"></span></label>
                <label class="option-label"><input type="radio" name="q10" value="C"> C. 9 gi·ªù 40 ph√∫t<span class="checkmark"></span></label>
                <label class="option-label"><input type="radio" name="q10" value="D"> D. 10 gi·ªù 15 ph√∫t<span class="checkmark"></span></label>
                <div class="single-check-container">
                    <button type="button" class="check-single-btn" data-question="q10">Ki·ªÉm tra</button>
                    <span class="single-result"></span>
                </div>
            </div>
            
            <div class="main-actions">
                <button type="button" id="submit-btn">N·ªôp B√†i & Xem T·ªïng K·∫øt</button>
                <button type="button" id="reset-btn">L√†m L·∫°i</button>
            </div>
            <div id="result"></div>
        </form>

        <!-- PH·∫¶N T·ª∞ LU·∫¨N -->
        <div class="self-study-section">
             <h3>II. T·ª∞ LU·∫¨N (T·ª± gi√°c l√†m r·ªìi so s√°nh ƒë√°p √°n nh√©!)</h3>

             <div class="question-container">
                <p><b>C√¢u 11.</b> ƒê·∫∑t t√≠nh r·ªìi t√≠nh:</p>
                <p style="font-weight:normal;">a) 347,68 + 49,54 &nbsp;&nbsp;&nbsp; b) 935,62 ‚Äì 419,76 &nbsp;&nbsp;&nbsp; c) 218,07 x 5,6 &nbsp;&nbsp;&nbsp; d) 88,2 : 36</p>
                <textarea rows="5" placeholder="Con h√£y vi·∫øt b√†i gi·∫£i c·ªßa m√¨nh v√†o ƒë√¢y..."></textarea>
                <button type="button" class="toggle-answer-btn">Xem G·ª£i √ù ƒê√°p √Ån</button>
                <div class="answer">
                    <p>a) 397,22</p>
                    <p>b) 515,86</p>
                    <p>c) 1221,192</p>
                    <p>d) 2,45</p>
                </div>
            </div>

            <div class="question-container">
                <p><b>C√¢u 12.</b> M·ªôt √¥ t√¥ ƒëi t·ª´ A ƒë·∫øn B v·ªõi v·∫≠n t·ªëc 54 km/gi·ªù. C√πng l√∫c ƒë√≥ m·ªôt xe m√°y ƒëi t·ª´ B ƒë·∫øn A v·ªõi v·∫≠n t·ªëc 36km/gi·ªù. H·ªèi sau m·∫•y gi·ªù √¥ t√¥ g·∫∑p xe m√°y, bi·∫øt qu√£ng ƒë∆∞·ªùng AB d√†i 144km?</p>
                <textarea rows="5" placeholder="Con h√£y vi·∫øt b√†i gi·∫£i c·ªßa m√¨nh v√†o ƒë√¢y..."></textarea>
                <button type="button" class="toggle-answer-btn">Xem G·ª£i √ù ƒê√°p √Ån</button>
                <div class="answer">
                    <p><b>B√†i gi·∫£i:</b></p>
                    <p>T·ªïng v·∫≠n t·ªëc c·ªßa √¥ t√¥ v√† xe m√°y l√†: 54 + 36 = 90 (km/gi·ªù)</p>
                    <p>Th·ªùi gian ƒë·ªÉ hai xe g·∫∑p nhau l√†: 144 : 90 = 1,6 (gi·ªù)</p>
                    <p>ƒê·ªïi 1,6 gi·ªù = 1 gi·ªù 36 ph√∫t.</p>
                    <p><b>ƒê√°p s·ªë:</b> 1,6 gi·ªù (ho·∫∑c 1 gi·ªù 36 ph√∫t)</p>
                </div>
            </div>

             <div class="question-container">
                <p><b>C√¢u 13.</b> M·ªôt m·∫£nh ƒë·∫•t h√¨nh thang c√≥ ƒë√°y b√© 8,5m, ƒë√°y l·ªõn 15m. Sau khi m·ªü r·ªông ƒë√°y l·ªõn th√™m 3m th√¨ di·ªán t√≠ch m·∫£nh ƒë·∫•t tƒÉng th√™m 7,5m¬≤. T√≠nh di·ªán t√≠ch m·∫£nh ƒë·∫•t h√¨nh thang khi ch∆∞a m·ªü r·ªông?</p>
                <textarea rows="5" placeholder="Con h√£y vi·∫øt b√†i gi·∫£i c·ªßa m√¨nh v√†o ƒë√¢y..."></textarea>
                <button type="button" class="toggle-answer-btn">Xem G·ª£i √ù ƒê√°p √Ån</button>
                <div class="answer">
                    <p><b>B√†i gi·∫£i:</b></p>
                    <p>Ph·∫ßn di·ªán t√≠ch tƒÉng th√™m l√† m·ªôt h√¨nh tam gi√°c c√≥ ƒë√°y l√† 3m v√† di·ªán t√≠ch l√† 7,5m¬≤.</p>
                    <p>Chi·ªÅu cao c·ªßa ph·∫ßn di·ªán t√≠ch tƒÉng th√™m (c≈©ng l√† chi·ªÅu cao c·ªßa m·∫£nh ƒë·∫•t h√¨nh thang) l√†: (7,5 x 2) : 3 = 5 (m)</p>
                    <p>Di·ªán t√≠ch m·∫£nh ƒë·∫•t h√¨nh thang khi ch∆∞a m·ªü r·ªông l√†: (15 + 8,5) x 5 : 2 = 58,75 (m¬≤)</p>
                    <p><b>ƒê√°p s·ªë:</b> 58,75 m¬≤</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // --- LOGIC X·ª¨ L√ù ---
            const correctAnswers = {
                q1: "B", q2: "B", q3: "C", q4: "B", q5: "B",
                q6: "C", q7: "D", q8: "B", q9: "C", q10: "D"
            };

            const form = document.getElementById('quiz-form');
            const submitBtn = document.getElementById('submit-btn');
            const resetBtn = document.getElementById('reset-btn');
            const resultDiv = document.getElementById('result');
            const singleCheckBtns = document.querySelectorAll('.check-single-btn');

            function checkSingleQuestion(event) {
                const questionName = event.target.dataset.question;
                const selectedOption = form.querySelector(`input[name="${questionName}"]:checked`);
                const resultSpan = event.target.nextElementSibling;

                if (!selectedOption) {
                    resultSpan.innerHTML = 'ü§î';
                    resultSpan.title = 'Con ch∆∞a ch·ªçn ƒë√°p √°n!';
                    return;
                }

                if (selectedOption.value === correctAnswers[questionName]) {
                    resultSpan.innerHTML = '‚úÖ';
                    resultSpan.title = 'Ch√≠nh x√°c!';
                } else {
                    resultSpan.innerHTML = '‚ùå';
                    resultSpan.title = 'Ch∆∞a ƒë√∫ng, con th·ª≠ l·∫°i nh√©!';
                }
            }

            function submitQuiz() {
                let score = 0;
                const totalQuestions = Object.keys(correctAnswers).length;

                document.querySelectorAll('.single-result').forEach(span => span.innerHTML = '');

                for (const questionName in correctAnswers) {
                    const options = form.querySelectorAll(`input[name="${questionName}"]`);
                    const correctAnswerValue = correctAnswers[questionName];
                    let userAnswered = false;

                    options.forEach(option => {
                        const label = option.parentElement;
                        label.classList.remove('correct', 'incorrect', 'show-correct-answer');

                        if (option.checked) {
                            userAnswered = true;
                            if (option.value === correctAnswerValue) {
                                score++;
                                label.classList.add('correct');
                            } else {
                                label.classList.add('incorrect');
                                const correctOption = form.querySelector(`input[name="${questionName}"][value="${correctAnswerValue}"]`);
                                correctOption.parentElement.classList.add('show-correct-answer');
                            }
                        }
                        option.disabled = true;
                    });

                    if (!userAnswered) {
                         const correctOption = form.querySelector(`input[name="${questionName}"][value="${correctAnswerValue}"]`);
                         correctOption.parentElement.classList.add('show-correct-answer');
                    }
                }

                let message = '';
                if (score === totalQuestions) {
                    message = `üéâ Xu·∫•t s·∫Øc! Con ƒë√£ tr·∫£ l·ªùi ƒë√∫ng t·∫•t c·∫£ ${score}/${totalQuestions} c√¢u! Hoan h√¥! ü•≥`;
                    resultDiv.style.backgroundColor = 'var(--correct-bg)';
                    resultDiv.style.color = 'var(--correct-text)';
                } else if (score >= totalQuestions / 2) {
                    message = `üëç T·ªët l·∫Øm! Con ƒë√£ tr·∫£ l·ªùi ƒë√∫ng ${score}/${totalQuestions} c√¢u. C·ªë g·∫Øng th√™m ch√∫t n·ªØa nh√©! üòä`;
                    resultDiv.style.backgroundColor = '#fff3cd';
                    resultDiv.style.color = '#856404';
                } else {
                    message = `ü§î C·ªë l√™n n√†o! Con ƒë√£ ƒë√∫ng ${score}/${totalQuestions} c√¢u. H√£y xem l·∫°i v√† √¥n t·∫≠p th√™m nh√©! üí™`;
                     resultDiv.style.backgroundColor = 'var(--incorrect-bg)';
                     resultDiv.style.color = 'var(--incorrect-text)';
                }
                resultDiv.innerHTML = message;
                resultDiv.style.display = 'block';

                submitBtn.disabled = true;
                singleCheckBtns.forEach(btn => btn.disabled = true);
                
                resultDiv.scrollIntoView({ behavior: 'smooth', block: 'center' });
            }

            function resetQuiz() {
                form.reset();

                form.querySelectorAll('.option-label').forEach(label => {
                    label.classList.remove('correct', 'incorrect', 'show-correct-answer');
                });

                form.querySelectorAll('input[type="radio"]').forEach(input => input.disabled = false);
                submitBtn.disabled = false;
                singleCheckBtns.forEach(btn => btn.disabled = false);

                resultDiv.innerHTML = '';
                resultDiv.style.display = 'none';
                document.querySelectorAll('.single-result').forEach(span => span.innerHTML = '');
                
                // Reset ph·∫ßn t·ª± lu·∫≠n
                document.querySelectorAll('.self-study-section textarea').forEach(textarea => {
                    textarea.value = '';
                });
                document.querySelectorAll('.self-study-section .answer').forEach(answerDiv => {
                    answerDiv.style.display = 'none';
                });
                document.querySelectorAll('.self-study-section .toggle-answer-btn').forEach(button => {
                    button.textContent = 'Xem G·ª£i √ù ƒê√°p √Ån';
                });

                window.scrollTo({ top: 0, behavior: 'smooth' });
            }

            submitBtn.addEventListener('click', submitQuiz);
            resetBtn.addEventListener('click', resetQuiz);
            singleCheckBtns.forEach(btn => btn.addEventListener('click', checkSingleQuestion));
            
            const toggleButtons = document.querySelectorAll('.toggle-answer-btn');
            toggleButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const answerDiv = this.nextElementSibling;
                    if (answerDiv.style.display === 'none' || answerDiv.style.display === '') {
                        answerDiv.style.display = 'block';
                        this.textContent = '·∫®n G·ª£i √ù';
                    } else {
                        answerDiv.style.display = 'none';
                        this.textContent = 'Xem G·ª£i √ù ƒê√°p √Ån';
                    }
                });
            });
        });
    </script>

</body>
</html>